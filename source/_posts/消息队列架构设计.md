---
title: 消息队列架构设计总结
date: 2018-11-11 20:28:13
tags:
---

特点是：

持久化—两次RPC调用，生产消费者模式

场景：解耦，异步，削峰，广播

业务对消息的诉求有：

到达率，消息有效期，业务ACK，延迟消息，离线消息删除



![58å°å®¶æå¤©æ¨ââ58å°å®¶çµåä¸å¡åºæ¯ä¸çæ¶æ¯éåæ¶æè®¾è®¡](http://pic.huodongjia.com/ganhuodocs/2017-05-16/1494916918.61-6.png)



![58å°å®¶æå¤©æ¨ââ58å°å®¶çµåä¸å¡åºæ¯ä¸çæ¶æ¯éåæ¶æè®¾è®¡](http://pic.huodongjia.com/ganhuodocs/2017-05-16/1494916918.61-7.png)



![消息到达100%](http://pic.huodongjia.com/ganhuodocs/2017-05-16/1494916918.61-8.png)





![58å°å®¶æå¤©æ¨ââ58å°å®¶çµåä¸å¡åºæ¯ä¸çæ¶æ¯éåæ¶æè®¾è®¡](http://pic.huodongjia.com/ganhuodocs/2017-05-16/1494916918.61-10.png)



